<template>
    <v-ons-page class="exploitation-page">
        <div class="grid">
            <Header>
                <v-ons-back-button slot="headerLeft">Назад</v-ons-back-button>
                <div class="header__controls" slot="headerRight">
                    <button class="btn btn-purple" @click="$router.push('/items/1')">
                        <span class="btn__icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M10.81 1.26001C10.81 0.98376 10.5863 0.76001 10.31 0.76001H1.26001C0.98376 0.76001 0.76001 0.98376 0.76001 1.26001V10.31C0.76001 10.5863 0.98376 10.81 1.26001 10.81H10.31C10.5863 10.81 10.81 10.5863 10.81 10.31V1.26001ZM9.81001 9.81001H1.76001V1.76001H9.81001V9.81001Z" fill="white"/>
                            <path d="M23.26 1.26001C23.26 0.98376 23.0362 0.76001 22.76 0.76001H13.71C13.4337 0.76001 13.21 0.98376 13.21 1.26001V10.31C13.21 10.5863 13.4337 10.81 13.71 10.81H22.76C23.0362 10.81 23.26 10.5863 23.26 10.31V1.26001ZM22.26 9.81001H14.21V1.76001H22.26V9.81001Z" fill="white"/>
                            <path d="M10.81 13.71C10.81 13.4337 10.5863 13.21 10.31 13.21H1.26001C0.98376 13.21 0.76001 13.4337 0.76001 13.71V22.76C0.76001 23.0362 0.98376 23.26 1.26001 23.26H10.31C10.5863 23.26 10.81 23.0362 10.81 22.76V13.71ZM9.81001 22.21H1.76001V14.21H9.81001V22.21Z" fill="white"/>
                            <path d="M23.26 13.71C23.26 13.4337 23.0362 13.21 22.76 13.21H13.71C13.4337 13.21 13.21 13.4337 13.21 13.71V22.76C13.21 23.0362 13.4337 23.26 13.71 23.26H22.76C23.0362 23.26 23.26 23.0362 23.26 22.76V13.71ZM22.26 22.21H14.21V14.21H22.26V22.21Z" fill="white"/>
                            </svg>
                        </span>
                        <span class="btn__text">
                            Список оборудования
                        </span>
                    </button>
                    <button class="btn btn-warning" @click="$router.push('/items/1/manual/troubleshooting/index')">
                        <span class="btn__icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <g clip-path="url(#clip0)">
                            <path d="M23.6174 18.5334L14.444 2.64455C13.9339 1.76105 13.0203 1.23352 12 1.23352C10.9798 1.23352 10.0661 1.76105 9.55597 2.64455L0.382605 18.5333C-0.127535 19.4169 -0.127535 20.4719 0.382605 21.3554C0.892744 22.239 1.80634 22.7664 2.82662 22.7664H21.1734C22.1936 22.7664 23.1072 22.2389 23.6174 21.3555C24.1276 20.4719 24.1276 19.4169 23.6174 18.5334ZM22.3997 20.6524C22.1437 21.0958 21.6853 21.3604 21.1734 21.3604H2.82662C2.31465 21.3604 1.85621 21.0958 1.60027 20.6524C1.34434 20.2091 1.34434 19.6798 1.60027 19.2364L10.7737 3.34763C11.0297 2.90428 11.4881 2.63963 12 2.63963C12.5119 2.63963 12.9704 2.90428 13.2263 3.34763L22.3997 19.2364C22.6556 19.6798 22.6556 20.2091 22.3997 20.6524Z" fill="black"/>
                            <path d="M12.7029 8.25049H11.2969V15.2809H12.7029V8.25049Z" fill="black"/>
                            <path d="M12 16.687C11.4831 16.687 11.0626 17.1075 11.0626 17.6244C11.0626 18.1413 11.4831 18.5618 12 18.5618C12.5169 18.5618 12.9374 18.1413 12.9374 17.6244C12.9374 17.1075 12.5169 16.687 12 16.687Z" fill="black"/>
                            </g>
                            <defs>
                            <clipPath id="clip0">
                            <rect width="24" height="24" fill="white"/>
                            </clipPath>
                            </defs>
                            </svg>
                        </span>
                        <span class="btn__text">
                            Устранить неисправность
                        </span>
                    </button>
                </div>
            </Header>
            <main class="main-container">
                <div class="grid-item__row">
                    <Aside :title="'Руководство по эксплуатации оборудования'">
                        <AsideMenu :links="asideLinks" :links-color="'blue'"></AsideMenu>
                    </Aside>
                    <div class="grid-item__col">
                        <div class="portlet">
                            <div class="portlet-container scrollable-y scrollable-hide-scroll" ref="scrollableBlock">

                                <template v-if="$route.params.manualSlug === 'index'">
                                    <div class="portlet--empty">
                                        <div class="portlet--empty__message">
                                            <div class="portlet--empty__message-icon-wrapper">
                                                <div class="portlet--empty__message-icon"
                                                     :style="{
                                                        backgroundImage: 'url(' + require('@/assets/images/instruction-1.svg') + ')'
                                                    }"
                                                >

                                                </div>
                                            </div>
                                            <div class="portlet--empty__message-text">
                                                Выберите интересующий вас раздел слева
                                            </div>
                                        </div>
                                    </div>
                                </template>
                                <template v-else>
                                    <div class="portlet-header">
                                        <h2>Руководство по предпусковой
                                            подготовке 3413M CBC</h2>
                                    </div>
                                    <div class="portlet-body">
                                        <section class="portlet-section">
                                            <div class="exploitation-article">
                                                <div class="exploitation-article__title">
                                                    Составные части устройства
                                                </div>
                                                <video width="100%" height="100%" controls="controls"
                                                       playsinline src="http://techslides.com/demos/sample-videos/small.mp4"
                                                       type="video/mp4"
                                                       class="exploitation-article__video"
                                                >
                                                </video>
                                                <p class="exploitation-article__text">
                                                    Сечения проводов кабелей питания устройств зависят от многих факторов (материал проводников, длина кабеля, способ прокладки кабеля – в трубе или открытый вариант) и т.д. Поэтому сертифицированный персонал заказчика должен самостоятельно определить сечение проводов кабелей согласно требованиям ПТЭП (Правила технической эксплуатации электроустановок потребителей).
                                                </p>
                                            </div>
                                        </section>
                                    </div>
                                </template>


                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </v-ons-page>
</template>

<script>
    import Header from "@/components/Header";
    import Aside from "@/components/Aside";
    import AsideMenu from "@/components/AsideMenu";
    export default {
        name: "Index",
        components: {AsideMenu, Aside, Header},
        data () {
            return {
                asideLinks: [
                    {
                        title: 'Руководство по предпусковой подготовке 3413M CBC',
                        to: '/items/' + this.$route.params.categoryId + '/manual/exploitation/manual-1'
                    },
                    {
                        title: 'Блок управления серии eX. Окна экрана ЧПУ',
                        to: '/items/' + this.$route.params.categoryId + '/manual/exploitation/manual-2'
                    },
                    {
                        title: 'Автоматическая система смены паллет',
                        to: '/items/' + this.$route.params.categoryId + '/manual/exploitation/manual-3'
                    },
                    {
                        title: 'Обрабатывающая головка с автоматической предварительной фокусировкой (PH-XS). Руководство по эксплуатации',
                        to: '/items/' + this.$route.params.categoryId + '/manual/exploitation/manual-4'
                    },
                    {
                        title: 'Магнитное устройство защиты от повреждений.',
                        to: '/items/' + this.$route.params.categoryId + '/manual/exploitation/manual-5'
                    },
                    {
                        title: 'Руководство по предпусковой подготовке 3413M CBC',
                        to: '/items/' + this.$route.params.categoryId + '/manual/exploitation/manual-6'
                    }
                ]
            }
        },
        watch: {
            '$route': function (newValue) {
                this.$refs.scrollableBlock.scrollTop = 0
            }
        }
    }
</script>

<style scoped>
.exploitation-article {
    margin-top: 16px;
}

.exploitation-article__title {
    font-size: 20px;
    line-height: 32px;
    color: #4B4B4B;
}

.exploitation-article__video {
    margin-top: 20px;
}

.exploitation-article__text {
    margin-top: 16px;
}
</style>